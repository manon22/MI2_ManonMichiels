if (self.CavalryLogger) { CavalryLogger.start_js(["NKYg4"]); }

__d("TahoeMediaType",[],(function a(b,c,d,e,f,g){f.exports={VIDEO:"video"};}),null);
__d('Tahoe',[],(function a(b,c,d,e,f,g){var h=null,i={get:function j(){return h;},set:function j(k){h=k;}};f.exports=i;}),null);
__d('TahoeController',['ix','cx','fbt','Bootloader','CSS','DialogX','DOM','Image.react','Link.react','PageTransitions','React','ReactDOM','ResizeListener','Style','Tahoe','TahoeMediaType','TahoeVariables','URI','VideoAutoplayControllerX','VideoPermalinkURI','VideoPlayerLoggerSource','VideoPlayerReason','VideoProgressPreviewBar.react','fbglyph','ge','getElementPosition','getVendorPrefixedName'],(function a(b,c,d,e,f,g,h,i,j){var k=350,l=43,m=48,n=1000,o=n-k,p=560-l-m,q=10;function r(s,t,u){'use strict';this.$TahoeController26=function(){this.$TahoeController25();}.bind(this);this.$TahoeController13=s;switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:this.$TahoeController16=t.video;this.$TahoeController7=this.$TahoeController16.getVideoID();}this.$TahoeController5=[];this.$TahoeController2=c('URI').getRequestURI();this.$TahoeController3=this.$TahoeController18();this.$TahoeController3.show();this.$TahoeController19();this.$TahoeController20();this.$TahoeController21();this.$TahoeController14=this.$TahoeController22.bind(this);c('PageTransitions').registerHandler(this.$TahoeController14,q);c('PageTransitions').go(u);this.$TahoeController10=this.$TahoeController12;c('Bootloader').loadModules(["TahoeView"],function(v){this.$TahoeController17=v.loadView(this);}.bind(this),'TahoeController');}r.prototype.go=function(s){'use strict';c('PageTransitions').go(s);};r.prototype.onExit=function(){'use strict';c('PageTransitions').go(this.$TahoeController2);};r.prototype.$TahoeController18=function(){'use strict';var s={width:n};this.$TahoeController4=c('CSS').setClass(c('DOM').create('div'),"_5-g-");var t=new (c('DialogX'))(s,this.$TahoeController4);c('CSS').setClass(t.getRoot(),"_5-g_");c('CSS').addClass(document.body,"_1_-b");return t;};r.prototype.$TahoeController19=function(){'use strict';c('DOM').insertAfter(c('ge')('pagelet_dock'),this.$TahoeController3.getRoot());};r.prototype.$TahoeController20=function(){'use strict';var s=h("114591"),t=c('TahoeVariables').backAffordanceGlyph;if(t==='cross')s=h("114710");c('ReactDOM').render(c('React').createElement(c('Link.react'),{className:"_4who",href:this.$TahoeController2},c('React').createElement(c('Image.react'),{alt:j._("Fermer"),src:s}),c('React').createElement('span',{className:"_4whp"},j._("Retour"))),this.$TahoeController4);};r.prototype.$TahoeController21=function(){'use strict';this.$TahoeController6=c('DOM').create('div');switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:this.$TahoeController12=this.$TahoeController16.getRootNode();this.$TahoeController11=this.$TahoeController16;}var s=c('getElementPosition')(this.$TahoeController12);this.$TahoeController8=this.$TahoeController12.clientWidth;this.$TahoeController9=this.$TahoeController12.clientHeight;c('DOM').insertAfter(this.$TahoeController12,this.$TahoeController6);this.$TahoeController15=true;var t=c('CSS').setClass(c('DOM').create('div'),"_5-yb _5_63");c('DOM').setContent(t,this.$TahoeController12);c('DOM').prependContent(this.$TahoeController4,t);this.$TahoeController23(t,s);};r.prototype.$TahoeController23=function(s,t){'use strict';this.$TahoeController24();var u=c('Style').getFloat(this.$TahoeController12,'width'),v=c('Style').getFloat(this.$TahoeController12,'height'),w='translate('+t.x+'px,'+t.y+'px)',x='scale('+t.width/u+', '+t.height/v+')';c('Style').set(s,c('getVendorPrefixedName')('transform'),w+' '+x);s.offsetWidth;c('Style').set(s,'transition','all .4s cubic-bezier(.12,.8,.32,1)');c('Style').set(s,c('getVendorPrefixedName')('transform'),'none');};r.prototype.$TahoeController24=function(){'use strict';this.$TahoeController1=parseFloat(this.$TahoeController12.getAttribute('data-original-aspect-ratio'));switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:this.$TahoeController16.updateSource(c('VideoPlayerLoggerSource').TAHOE);c('VideoAutoplayControllerX').setShouldAutoplay(false);this.$TahoeController16.unmute();this.$TahoeController16.play(c('VideoPlayerReason').USER);this.$TahoeController16.emit('TahoeController/enterTahoe');c('VideoProgressPreviewBar.react').destroyComponentIfAvailable(this.$TahoeController16);}this.$TahoeController25();this.$TahoeController5.push(c('ResizeListener').add(this.$TahoeController26));};r.prototype.addEvent=function(event){'use strict';this.$TahoeController5.push(event);};r.prototype.expandMoreVideos=function(){'use strict';this.$TahoeController17.expandMoreVideos();};r.prototype.getVideoController=function(){'use strict';return this.$TahoeController16;};r.prototype.selectAddComment=function(){'use strict';this.$TahoeController17.selectAddComment();};r.prototype.$TahoeController25=function(){'use strict';var s=window.innerWidth-k;s=Math.max(s,o);var t=window.innerHeight-l-m;t=Math.max(t,p);c('Style').set(this.$TahoeController12,'width',s+'px');c('Style').set(this.$TahoeController12,'height',t+'px');switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:this.$TahoeController16.setDimensions(s,t);}};r.prototype.$TahoeController22=function(s){'use strict';var t=c('URI').getRequestURI();if(s.getPath()===this.$TahoeController2.getPath()){this.$TahoeController27();}else if(!this.$TahoeController28(s)){this.$TahoeController27();return false;}else if(this.$TahoeController2.getPath()!=t.getPath()&&t.getPath()!=s.getPath())this.$TahoeController29(s);c('PageTransitions').transitionComplete();return true;};r.prototype.$TahoeController28=function(s){'use strict';return c('VideoPermalinkURI').isValid(s);};r.prototype.$TahoeController29=function(s){'use strict';this.$TahoeController16.pause();this.$TahoeController30();var t=c('VideoPermalinkURI').parse(s).video_id;this.$TahoeController17.updateView(t);};r.prototype.$TahoeController30=function(){'use strict';var s=this.$TahoeController12.clientHeight,t=c('CSS').setClass(c('DOM').create('div'),"_1c_u");c('Style').set(t,'height',s+'px');c('DOM').prependContent(this.$TahoeController4,t);if(this.$TahoeController15){c('DOM').insertAfter(this.$TahoeController6,this.$TahoeController10);c('DOM').remove(this.$TahoeController6);c('Style').set(this.$TahoeController10,'width','');c('Style').set(this.$TahoeController10,'height','');}else c('DOM').remove(this.$TahoeController4.children[1]);this.$TahoeController15=false;};r.prototype.$TahoeController27=function(){'use strict';this.$TahoeController17&&this.$TahoeController17.onExit();c('PageTransitions').removeHandler(this.$TahoeController14,q);this.$TahoeController5.forEach(function(s){return s.remove();});c('Style').set(this.$TahoeController12,'width','');c('Style').set(this.$TahoeController12,'height','');this.$TahoeController30();switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:this.$TahoeController11.setDimensions(this.$TahoeController8,this.$TahoeController9);this.$TahoeController11.updateSource(c('VideoPlayerLoggerSource').INLINE);this.$TahoeController11.pause(c('VideoPlayerReason').AUTOPLAY);this.$TahoeController11.mute();this.$TahoeController11.emit('resumeAutoplay');c('VideoAutoplayControllerX').setShouldAutoplay(true);}c('CSS').removeClass(document.body,"_1_-b");this.$TahoeController3.destroy();c('Tahoe').set(null);};r.prototype.getID=function(){'use strict';return this.$TahoeController7;};r.prototype.getContent=function(){'use strict';return this.$TahoeController4;};r.prototype.updateMedia=function(s){'use strict';this.$TahoeController16=s;this.$TahoeController12=this.$TahoeController16.getRootNode();this.$TahoeController7=this.$TahoeController16.getVideoID();this.$TahoeController24();this.$TahoeController17.setUpEndScreen();};r.openFromVideoPlayer=function(s,t){'use strict';c('Tahoe').set(new r(c('TahoeMediaType').VIDEO,{video:s},t));};r.openFromPhoto=function(s){'use strict';};f.exports=r;}),null);